"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/whisper/page",{

/***/ "(app-pages-browser)/./app/whisper/page.js":
/*!*****************************!*\
  !*** ./app/whisper/page.js ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ WhisperPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction WhisperPage() {\n    _s();\n    const [Module, setModule] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // const importObject = {\n    //     imports: { imported_func: (arg) => console.log(arg) }\n    //   };\n    const importObject = {\n        env: {\n            consoleLog: (arg)=>console.log(arg),\n            someValue: 1234\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        fetch(\"/libstream.wasm\").then((response)=>response.arrayBuffer()).then((bytes)=>WebAssembly.instantiate(bytes, importObject)).then((results)=>{\n            setModule(results.instance);\n        });\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (Module) {\n            Module.print = printTextarea;\n            Module.printErr = printTextarea;\n            Module.setStatus = function(text) {\n                printTextarea(\"js: \" + text);\n            };\n            Module.monitorRunDependencies = function(left) {};\n            Module.preRun = function() {\n                printTextarea(\"js: Preparing ...\");\n            };\n            Module.postRun = function() {\n                printTextarea(\"js: Initialized successfully!\");\n            };\n        }\n    }, [\n        Module\n    ]);\n    function convertTypedArray(src, type) {\n        var buffer = new ArrayBuffer(src.byteLength);\n        var baseView = new src.constructor(buffer).set(src);\n        return new type(buffer);\n    }\n    var printTextarea = function() {\n        var element = document.getElementById(\"output\");\n        if (element) element.alue = \"\"; // clear browser cache\n        return function(text) {\n            if (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(\" \");\n            if (element) {\n                element.value += text + \"\\n\";\n                element.scrollTop = element.scrollHeight; // focus on bottom\n            }\n        };\n    }();\n    async function clearCache() {\n        if (confirm(\"Are you sure you want to clear the cache?\\nAll the models will be downloaded again.\")) {\n            indexedDB.deleteDatabase(dbName);\n        }\n    }\n    // fetch a remote file from remote URL using the Fetch API\n    async function fetchRemote(url, cbProgress, cbPrint) {\n        cbPrint(\"fetchRemote: downloading with fetch()...\");\n        const response = await fetch(url, {\n            method: \"GET\"\n        });\n        if (!response.ok) {\n            cbPrint(\"fetchRemote: failed to fetch \" + url);\n            return;\n        }\n        const contentLength = response.headers.get(\"content-length\");\n        const total = parseInt(contentLength, 10);\n        const reader = response.body.getReader();\n        var chunks = [];\n        var receivedLength = 0;\n        var progressLast = -1;\n        while(true){\n            const { done, value } = await reader.read();\n            if (done) {\n                break;\n            }\n            chunks.push(value);\n            receivedLength += value.length;\n            if (contentLength) {\n                cbProgress(receivedLength / total);\n                var progressCur = Math.round(receivedLength / total * 10);\n                if (progressCur != progressLast) {\n                    cbPrint(\"fetchRemote: fetching \" + 10 * progressCur + \"% ...\");\n                    progressLast = progressCur;\n                }\n            }\n        }\n        var position = 0;\n        var chunksAll = new Uint8Array(receivedLength);\n        for (var chunk of chunks){\n            chunksAll.set(chunk, position);\n            position += chunk.length;\n        }\n        return chunksAll;\n    }\n    // load remote data\n    // - check if the data is already in the IndexedDB\n    // - if not, fetch it from the remote URL and store it in the IndexedDB\n    function loadRemote(url, dst, size_mb, cbProgress, cbReady, cbCancel, cbPrint) {\n        // query the storage quota and print it\n        navigator.storage.estimate().then(function(estimate) {\n            cbPrint(\"loadRemote: storage quota: \" + estimate.quota + \" bytes\");\n            cbPrint(\"loadRemote: storage usage: \" + estimate.usage + \" bytes\");\n        });\n        // check if the data is already in the IndexedDB\n        var rq = indexedDB.open(dbName, dbVersion);\n        rq.onupgradeneeded = function(event) {\n            var db = event.target.result;\n            if (db.version == 1) {\n                var os = db.createObjectStore(\"models\", {\n                    autoIncrement: false\n                });\n                cbPrint(\"loadRemote: created IndexedDB \" + db.name + \" version \" + db.version);\n            } else {\n                // clear the database\n                var os = event.currentTarget.transaction.objectStore(\"models\");\n                os.clear();\n                cbPrint(\"loadRemote: cleared IndexedDB \" + db.name + \" version \" + db.version);\n            }\n        };\n        rq.onsuccess = function(event) {\n            var db = event.target.result;\n            var tx = db.transaction([\n                \"models\"\n            ], \"readonly\");\n            var os = tx.objectStore(\"models\");\n            var rq = os.get(url);\n            rq.onsuccess = function(event) {\n                if (rq.result) {\n                    cbPrint('loadRemote: \"' + url + '\" is already in the IndexedDB');\n                    cbReady(dst, rq.result);\n                } else {\n                    // data is not in the IndexedDB\n                    cbPrint('loadRemote: \"' + url + '\" is not in the IndexedDB');\n                    // alert and ask the user to confirm\n                    if (!confirm(\"You are about to download \" + size_mb + \" MB of data.\\n\" + \"The model data will be cached in the browser for future use.\\n\\n\" + \"Press OK to continue.\")) {\n                        cbCancel();\n                        return;\n                    }\n                    fetchRemote(url, cbProgress, cbPrint).then(function(data) {\n                        if (data) {\n                            // store the data in the IndexedDB\n                            var rq = indexedDB.open(dbName, dbVersion);\n                            rq.onsuccess = function(event) {\n                                var db = event.target.result;\n                                var tx = db.transaction([\n                                    \"models\"\n                                ], \"readwrite\");\n                                var os = tx.objectStore(\"models\");\n                                var rq = os.put(data, url);\n                                rq.onsuccess = function(event) {\n                                    cbPrint('loadRemote: \"' + url + '\" stored in the IndexedDB');\n                                    cbReady(dst, data);\n                                };\n                                rq.onerror = function(event) {\n                                    cbPrint('loadRemote: failed to store \"' + url + '\" in the IndexedDB');\n                                    cbCancel();\n                                };\n                            };\n                        }\n                    });\n                }\n            };\n            rq.onerror = function(event) {\n                cbPrint(\"loadRemote: failed to get data from the IndexedDB\");\n                cbCancel();\n            };\n        };\n        rq.onerror = function(event) {\n            cbPrint(\"loadRemote: failed to open IndexedDB\");\n            cbCancel();\n        };\n        rq.onblocked = function(event) {\n            cbPrint(\"loadRemote: failed to open IndexedDB: blocked\");\n            cbCancel();\n        };\n        rq.onabort = function(event) {\n            cbPrint(\"loadRemote: failed to open IndexedDB: abort\");\n        };\n    }\n    // web audio context\n    var context = null;\n    // audio data\n    var audio = null;\n    var audio0 = null;\n    // the stream instance\n    var instance = null;\n    // model name\n    var model_whisper = null;\n    // var Module = {\n    //     print: printTextarea,\n    //     printErr: printTextarea,\n    //     setStatus: function(text) {\n    //         printTextarea('js: ' + text);\n    //     },\n    //     monitorRunDependencies: function(left) {\n    //     },\n    //     preRun: function() {\n    //         printTextarea('js: Preparing ...');\n    //     },\n    //     postRun: function() {\n    //         printTextarea('js: Initialized successfully!');\n    //     }\n    // };\n    //\n    // fetch models\n    //\n    let dbVersion = 1;\n    let dbName = \"whisper.ggerganov.com\";\n    let indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\n    function storeFS(fname, buf) {\n        // write to WASM file using FS_createDataFile\n        // if the file exists, delete it\n        try {\n            Module.FS_unlink(fname);\n        } catch (e) {\n        // ignore\n        }\n        Module.FS_createDataFile(\"/\", fname, buf, true, true);\n        printTextarea(\"storeFS: stored model: \" + fname + \" size: \" + buf.length);\n        document.getElementById(\"model-whisper-status\").innerHTML = 'loaded \"' + model_whisper + '\"!';\n        if (model_whisper != null) {\n            document.getElementById(\"start\").disabled = false;\n            document.getElementById(\"stop\").disabled = true;\n        }\n    }\n    function loadWhisper(model) {\n        let urls = {\n            \"tiny.en\": \"https://gnp4.web.illinois.edu/scribear/data/ggml-model-whisper-tiny.en.bin\",\n            \"base.en\": \"https://gnp4.web.illinois.edu/scribear/data/ggml-model-whisper-base.en.bin\"\n        };\n        let sizes = {\n            \"tiny.en\": 75,\n            \"base.en\": 142\n        };\n        let url = urls[model];\n        let dst = \"whisper.bin\";\n        let size_mb = sizes[model];\n        model_whisper = model;\n        document.getElementById(\"fetch-whisper-tiny-en\").style.display = \"none\";\n        document.getElementById(\"fetch-whisper-base-en\").style.display = \"none\";\n        document.getElementById(\"model-whisper-status\").innerHTML = 'loading \"' + model + '\" ... ';\n        let cbProgress = function(p) {\n            let el = document.getElementById(\"fetch-whisper-progress\");\n            el.innerHTML = Math.round(100 * p) + \"%\";\n            console.log(\"progress: \" + Math.round(100 * p) + \"%\");\n            sessionStorage.setItem(\"whisper_progress\", Math.round(100 * p));\n        };\n        let cbCancel = function() {\n            var el;\n            el = document.getElementById(\"fetch-whisper-tiny-en\");\n            if (el) el.style.display = \"inline-block\";\n            el = document.getElementById(\"fetch-whisper-base-en\");\n            if (el) el.style.display = \"inline-block\";\n            el = document.getElementById(\"model-whisper-status\");\n            if (el) el.innerHTML = \"\";\n        };\n        loadRemote(url, dst, size_mb, cbProgress, storeFS, cbCancel, printTextarea);\n    }\n    //\n    // microphone\n    //\n    const kSampleRate = 16000;\n    const kRestartRecording_s = 120;\n    const kIntervalAudio_ms = 3000; // pass the recorded audio to the C++ instance at this rate\n    var mediaRecorder = null;\n    var doRecording = false;\n    var startTime = 0;\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    window.OfflineAudioContext = window.OfflineAudioContext || window.webkitOfflineAudioContext;\n    function stopRecording() {\n        Module.set_status(\"paused\");\n        doRecording = false;\n        audio0 = null;\n        audio = null;\n        context = null;\n    }\n    function startRecording() {\n        if (!context) {\n            context = new AudioContext({\n                sampleRate: kSampleRate,\n                channelCount: 1,\n                echoCancellation: false,\n                autoGainControl: true,\n                noiseSuppression: true\n            });\n        }\n        Module.set_status(\"\");\n        document.getElementById(\"start\").disabled = true;\n        document.getElementById(\"stop\").disabled = false;\n        doRecording = true;\n        startTime = Date.now();\n        var chunks = [];\n        var stream = null;\n        navigator.mediaDevices.getUserMedia({\n            audio: true,\n            video: false\n        }).then(function(s) {\n            stream = s;\n            mediaRecorder = new MediaRecorder(stream);\n            mediaRecorder.ondataavailable = function(e) {\n                chunks.push(e.data);\n                var blob = new Blob(chunks, {\n                    \"type\": \"audio/ogg; codecs=opus\"\n                });\n                var reader = new FileReader();\n                reader.onload = function(event) {\n                    var buf = new Uint8Array(reader.result);\n                    if (!context) {\n                        return;\n                    }\n                    context.decodeAudioData(buf.buffer, function(audioBuffer) {\n                        var offlineContext = new OfflineAudioContext(audioBuffer.numberOfChannels, audioBuffer.length, audioBuffer.sampleRate);\n                        var source = offlineContext.createBufferSource();\n                        source.buffer = audioBuffer;\n                        source.connect(offlineContext.destination);\n                        source.start(0);\n                        offlineContext.startRendering().then(function(renderedBuffer) {\n                            audio = renderedBuffer.getChannelData(0);\n                            //printTextarea('js: audio recorded, size: ' + audio.length + ', old size: ' + (audio0 == null ? 0 : audio0.length));\n                            var audioAll = new Float32Array(audio0 == null ? audio.length : audio0.length + audio.length);\n                            if (audio0 != null) {\n                                audioAll.set(audio0, 0);\n                            }\n                            audioAll.set(audio, audio0 == null ? 0 : audio0.length);\n                            if (instance) {\n                                Module.set_audio(instance, audioAll);\n                            }\n                        });\n                    }, function(e) {\n                        audio = null;\n                    });\n                };\n                reader.readAsArrayBuffer(blob);\n            };\n            mediaRecorder.onstop = function(e) {\n                if (doRecording) {\n                    setTimeout(function() {\n                        startRecording();\n                    });\n                }\n            };\n            mediaRecorder.start(kIntervalAudio_ms);\n        }).catch(function(err) {\n            printTextarea(\"js: error getting audio stream: \" + err);\n        });\n        var interval = setInterval(function() {\n            if (!doRecording) {\n                clearInterval(interval);\n                mediaRecorder.stop();\n                stream.getTracks().forEach(function(track) {\n                    track.stop();\n                });\n                document.getElementById(\"start\").disabled = false;\n                document.getElementById(\"stop\").disabled = true;\n                mediaRecorder = null;\n            }\n            // if audio length is more than kRestartRecording_s seconds, restart recording\n            if (audio != null && audio.length > kSampleRate * kRestartRecording_s) {\n                if (doRecording) {\n                    //printTextarea('js: restarting recording');\n                    clearInterval(interval);\n                    audio0 = audio;\n                    audio = null;\n                    mediaRecorder.stop();\n                    stream.getTracks().forEach(function(track) {\n                        track.stop();\n                    });\n                }\n            }\n        }, 100);\n    }\n    //\n    // main\n    //\n    var nLines = 0;\n    var intervalUpdate = null;\n    var transcribedAll = \"\";\n    function onStart() {\n        if (!instance) {\n            instance = Module.init(\"whisper.bin\");\n            if (instance) {\n                printTextarea(\"js: whisper initialized, instance: \" + instance);\n            }\n        }\n        if (!instance) {\n            printTextarea(\"js: failed to initialize whisper\");\n            return;\n        }\n        startRecording();\n        intervalUpdate = setInterval(function() {\n            var transcribed = Module.get_transcribed();\n            if (transcribed != null && transcribed.length > 1) {\n                transcribedAll += transcribed + \"\\n\";\n                nLines++;\n                // if more than 10 lines, remove the first line\n                if (nLines > 10) {\n                    var i = transcribedAll.indexOf(\"\\n\");\n                    if (i > 0) {\n                        transcribedAll = transcribedAll.substring(i + 4);\n                        nLines--;\n                    }\n                }\n            }\n            document.getElementById(\"state-status\").innerHTML = Module.get_status();\n            document.getElementById(\"state-transcribed\").innerHTML = transcribedAll;\n            // console.log(\"check transcription: \"+transcribedAll);\n            sessionStorage.setItem(\"whisper_transcript\", transcribedAll);\n        }, 100);\n    }\n    function onStop() {\n        stopRecording();\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        window.addEventListener(\"storage\", (event)=>{\n            if (event.key === \"listening\") {\n                if (event.newValue === \"true\") {\n                    console.log(\"started!\");\n                    onStart();\n                } else {\n                    console.log(\"stopped!\");\n                    onStop();\n                }\n            }\n        });\n        window.addEventListener(\"storage\", (event)=>{\n            if (event.key === \"isClearCache\") {\n                if (event.newValue === \"true\") {\n                    console.log(\"clear cache!\");\n                    clearCache();\n                } else {\n                    console.log(\"clear cache!\");\n                }\n            }\n        });\n        window.addEventListener(\"storage\", (event)=>{\n            if (event.key === \"isDownloadTiny\") {\n                if (event.newValue === \"true\") {\n                    console.log(\"download tiny!\");\n                    loadWhisper(\"tiny.en\");\n                } else {\n                    console.log(\"download tiny!\");\n                }\n            }\n        });\n        window.addEventListener(\"storage\", (event)=>{\n            if (event.key === \"isDownloadBase\") {\n                if (event.newValue === \"true\") {\n                    console.log(\"download base!\");\n                    loadWhisper(\"base.en\");\n                } else {\n                    console.log(\"download base!\");\n                }\n            }\n        });\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"main-container\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                        children: \"stream : Real-time Whisper transcription in WebAssembly\"\n                    }, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 555,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 557,\n                        columnNumber: 10\n                    }, this),\n                    'Select the model you would like to use, click the \"Start\" button and start speaking',\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 561,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        id: \"model-whisper\",\n                        children: [\n                            \"Whisper model: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                id: \"model-whisper-status\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 564,\n                                columnNumber: 28\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                id: \"fetch-whisper-tiny-en\",\n                                onClick: ()=>{\n                                    loadWhisper(\"tiny.en\");\n                                },\n                                children: \"tiny.en (75 MB)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 565,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                id: \"fetch-whisper-base-en\",\n                                onClick: ()=>{\n                                    loadWhisper(\"base.en\");\n                                },\n                                children: \"base.en (142 MB)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 566,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                id: \"fetch-whisper-progress\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 567,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 563,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 570,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        id: \"input\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                id: \"start\",\n                                onClick: ()=>{\n                                    onStart();\n                                },\n                                disabled: true,\n                                children: \"Start\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 573,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                id: \"stop\",\n                                onClick: ()=>{\n                                    onStop();\n                                },\n                                disabled: true,\n                                children: \"Stop\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 574,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                id: \"clear\",\n                                onClick: ()=>{\n                                    clearCache();\n                                },\n                                children: \"Clear Cache\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 575,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 572,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 578,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        id: \"state\",\n                        children: [\n                            \"Status: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    id: \"state-status\",\n                                    children: \"not started\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                    lineNumber: 581,\n                                    columnNumber: 24\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 581,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                id: \"state-transcribed\",\n                                children: \"[The transcribed text will be displayed here]\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 583,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 580,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 586,\n                        columnNumber: 10\n                    }, this),\n                    \"Debug output:\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        id: \"output\",\n                        rows: 20\n                    }, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 589,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 591,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                        children: \"Troubleshooting\"\n                    }, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 593,\n                        columnNumber: 10\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 595,\n                        columnNumber: 10\n                    }, this),\n                    \"The page does some heavy computations, so make sure:\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"To use a modern web browser (e.g. Chrome, Firefox)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 600,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"To use a fast desktop or laptop computer (i.e. not a mobile phone)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 601,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"Your browser supports WASM \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: \"https://webassembly.org/roadmap/\",\n                                        children: \"Fixed-width SIMD\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                        lineNumber: 602,\n                                        columnNumber: 44\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                                lineNumber: 602,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                        lineNumber: 599,\n                        columnNumber: 10\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                lineNumber: 554,\n                columnNumber: 8\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                type: \"text/javascript\",\n                src: \"stream.js\"\n            }, void 0, false, {\n                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                lineNumber: 605,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                type: \"text/javascript\",\n                src: \"stream.js\"\n            }, void 0, false, {\n                fileName: \"/Users/isaaczheng/Documents/whisper-hook/app/whisper/page.js\",\n                lineNumber: 606,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(WhisperPage, \"eL40C2rzlvWmYHywihl1t7VeNTo=\");\n_c = WhisperPage;\nvar _c;\n$RefreshReg$(_c, \"WhisperPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC93aGlzcGVyL3BhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRTRDO0FBRTdCLFNBQVNFOztJQUNwQixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR0gsK0NBQVFBLENBQUM7SUFFckMseUJBQXlCO0lBQ3pCLDREQUE0RDtJQUM1RCxPQUFPO0lBQ1AsTUFBTUksZUFBZTtRQUNqQkMsS0FBSztZQUNIQyxZQUFZLENBQUNDLE1BQVFDLFFBQVFDLEdBQUcsQ0FBQ0Y7WUFDakNHLFdBQVc7UUFDYjtJQUNKO0lBRUFYLGdEQUFTQSxDQUFDO1FBQ05ZLE1BQU0sbUJBQ0xDLElBQUksQ0FBQyxDQUFDQyxXQUFhQSxTQUFTQyxXQUFXLElBQ3ZDRixJQUFJLENBQUMsQ0FBQ0csUUFBVUMsWUFBWUMsV0FBVyxDQUFDRixPQUFPWCxlQUMvQ1EsSUFBSSxDQUFDLENBQUNNO1lBQ0hmLFVBQVVlLFFBQVFDLFFBQVE7UUFDOUI7SUFDSixHQUFHLEVBQUU7SUFFTHBCLGdEQUFTQSxDQUFDO1FBQ04sSUFBSUcsUUFBUTtZQUNSQSxPQUFPa0IsS0FBSyxHQUFHQztZQUNmbkIsT0FBT29CLFFBQVEsR0FBR0Q7WUFDbEJuQixPQUFPcUIsU0FBUyxHQUFHLFNBQVNDLElBQUk7Z0JBQzVCSCxjQUFjLFNBQVNHO1lBQzNCO1lBQ0F0QixPQUFPdUIsc0JBQXNCLEdBQUcsU0FBU0MsSUFBSSxHQUM3QztZQUNBeEIsT0FBT3lCLE1BQU0sR0FBRztnQkFDWk4sY0FBYztZQUNsQjtZQUNBbkIsT0FBTzBCLE9BQU8sR0FBRztnQkFDYlAsY0FBYztZQUNsQjtRQUNKO0lBQ0osR0FBRztRQUFDbkI7S0FBTztJQUVYLFNBQVMyQixrQkFBa0JDLEdBQUcsRUFBRUMsSUFBSTtRQUNwQyxJQUFJQyxTQUFTLElBQUlDLFlBQVlILElBQUlJLFVBQVU7UUFDM0MsSUFBSUMsV0FBVyxJQUFJTCxJQUFJTSxXQUFXLENBQUNKLFFBQVFLLEdBQUcsQ0FBQ1A7UUFDL0MsT0FBTyxJQUFJQyxLQUFLQztJQUNoQjtJQUVBLElBQUlYLGdCQUFnQjtRQUNwQixJQUFJaUIsVUFBVUMsU0FBU0MsY0FBYyxDQUFDO1FBQ3RDLElBQUlGLFNBQVNBLFFBQVFHLElBQUksR0FBRyxJQUFJLHNCQUFzQjtRQUN0RCxPQUFPLFNBQVNqQixJQUFJO1lBQ2hCLElBQUlrQixVQUFVQyxNQUFNLEdBQUcsR0FBR25CLE9BQU9vQixNQUFNQyxTQUFTLENBQUNDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDTCxXQUFXTSxJQUFJLENBQUM7WUFDNUUsSUFBSVYsU0FBUztnQkFDVEEsUUFBUVcsS0FBSyxJQUFJekIsT0FBTztnQkFDeEJjLFFBQVFZLFNBQVMsR0FBR1osUUFBUWEsWUFBWSxFQUFFLGtCQUFrQjtZQUNoRTtRQUNKO0lBQ0E7SUFFQSxlQUFlQztRQUNmLElBQUlDLFFBQVEsd0ZBQXdGO1lBQ2hHQyxVQUFVQyxjQUFjLENBQUNDO1FBQzdCO0lBQ0E7SUFFQSwwREFBMEQ7SUFDMUQsZUFBZUMsWUFBWUMsR0FBRyxFQUFFQyxVQUFVLEVBQUVDLE9BQU87UUFDL0NBLFFBQVE7UUFFUixNQUFNL0MsV0FBVyxNQUFNRixNQUNuQitDLEtBQ0E7WUFDSUcsUUFBUTtRQUNaO1FBR0osSUFBSSxDQUFDaEQsU0FBU2lELEVBQUUsRUFBRTtZQUNkRixRQUFRLGtDQUFrQ0Y7WUFDMUM7UUFDSjtRQUVBLE1BQU1LLGdCQUFnQmxELFNBQVNtRCxPQUFPLENBQUNDLEdBQUcsQ0FBQztRQUMzQyxNQUFNQyxRQUFRQyxTQUFTSixlQUFlO1FBQ3RDLE1BQU1LLFNBQVN2RCxTQUFTd0QsSUFBSSxDQUFDQyxTQUFTO1FBRXRDLElBQUlDLFNBQVMsRUFBRTtRQUNmLElBQUlDLGlCQUFpQjtRQUNyQixJQUFJQyxlQUFlLENBQUM7UUFFcEIsTUFBTyxLQUFNO1lBQ1QsTUFBTSxFQUFFQyxJQUFJLEVBQUV6QixLQUFLLEVBQUUsR0FBRyxNQUFNbUIsT0FBT08sSUFBSTtZQUV6QyxJQUFJRCxNQUFNO2dCQUNOO1lBQ0o7WUFFQUgsT0FBT0ssSUFBSSxDQUFDM0I7WUFDWnVCLGtCQUFrQnZCLE1BQU1OLE1BQU07WUFFOUIsSUFBSW9CLGVBQWU7Z0JBQ2ZKLFdBQVdhLGlCQUFlTjtnQkFFMUIsSUFBSVcsY0FBY0MsS0FBS0MsS0FBSyxDQUFDLGlCQUFrQmIsUUFBUztnQkFDeEQsSUFBSVcsZUFBZUosY0FBYztvQkFDN0JiLFFBQVEsMkJBQTJCLEtBQUdpQixjQUFjO29CQUNwREosZUFBZUk7Z0JBQ25CO1lBQ0o7UUFDSjtRQUVBLElBQUlHLFdBQVc7UUFDZixJQUFJQyxZQUFZLElBQUlDLFdBQVdWO1FBRS9CLEtBQUssSUFBSVcsU0FBU1osT0FBUTtZQUN0QlUsVUFBVTVDLEdBQUcsQ0FBQzhDLE9BQU9IO1lBQ3JCQSxZQUFZRyxNQUFNeEMsTUFBTTtRQUM1QjtRQUVBLE9BQU9zQztJQUNYO0lBRUEsbUJBQW1CO0lBQ25CLGtEQUFrRDtJQUNsRCx1RUFBdUU7SUFDdkUsU0FBU0csV0FBVzFCLEdBQUcsRUFBRTJCLEdBQUcsRUFBRUMsT0FBTyxFQUFFM0IsVUFBVSxFQUFFNEIsT0FBTyxFQUFFQyxRQUFRLEVBQUU1QixPQUFPO1FBQ3pFLHVDQUF1QztRQUN2QzZCLFVBQVVDLE9BQU8sQ0FBQ0MsUUFBUSxHQUFHL0UsSUFBSSxDQUFDLFNBQVUrRSxRQUFRO1lBQ2hEL0IsUUFBUSxnQ0FBZ0MrQixTQUFTQyxLQUFLLEdBQUc7WUFDekRoQyxRQUFRLGdDQUFnQytCLFNBQVNFLEtBQUssR0FBRztRQUM3RDtRQUVBLGdEQUFnRDtRQUNoRCxJQUFJQyxLQUFLeEMsVUFBVXlDLElBQUksQ0FBQ3ZDLFFBQVF3QztRQUVoQ0YsR0FBR0csZUFBZSxHQUFHLFNBQVVDLEtBQUs7WUFDaEMsSUFBSUMsS0FBS0QsTUFBTUUsTUFBTSxDQUFDQyxNQUFNO1lBQzVCLElBQUlGLEdBQUdHLE9BQU8sSUFBSSxHQUFHO2dCQUNqQixJQUFJQyxLQUFLSixHQUFHSyxpQkFBaUIsQ0FBQyxVQUFVO29CQUFFQyxlQUFlO2dCQUFNO2dCQUMvRDdDLFFBQVEsbUNBQW1DdUMsR0FBR08sSUFBSSxHQUFHLGNBQWNQLEdBQUdHLE9BQU87WUFDakYsT0FBTztnQkFDSCxxQkFBcUI7Z0JBQ3JCLElBQUlDLEtBQUtMLE1BQU1TLGFBQWEsQ0FBQ0MsV0FBVyxDQUFDQyxXQUFXLENBQUM7Z0JBQ3JETixHQUFHTyxLQUFLO2dCQUNSbEQsUUFBUSxtQ0FBbUN1QyxHQUFHTyxJQUFJLEdBQUcsY0FBY1AsR0FBR0csT0FBTztZQUNqRjtRQUNKO1FBRUFSLEdBQUdpQixTQUFTLEdBQUcsU0FBVWIsS0FBSztZQUMxQixJQUFJQyxLQUFLRCxNQUFNRSxNQUFNLENBQUNDLE1BQU07WUFDNUIsSUFBSVcsS0FBS2IsR0FBR1MsV0FBVyxDQUFDO2dCQUFDO2FBQVMsRUFBRTtZQUNwQyxJQUFJTCxLQUFLUyxHQUFHSCxXQUFXLENBQUM7WUFDeEIsSUFBSWYsS0FBS1MsR0FBR3RDLEdBQUcsQ0FBQ1A7WUFFaEJvQyxHQUFHaUIsU0FBUyxHQUFHLFNBQVViLEtBQUs7Z0JBQzFCLElBQUlKLEdBQUdPLE1BQU0sRUFBRTtvQkFDWHpDLFFBQVEsa0JBQWtCRixNQUFNO29CQUNoQzZCLFFBQVFGLEtBQUtTLEdBQUdPLE1BQU07Z0JBQzFCLE9BQU87b0JBQ0gsK0JBQStCO29CQUMvQnpDLFFBQVEsa0JBQWtCRixNQUFNO29CQUVoQyxvQ0FBb0M7b0JBQ3BDLElBQUksQ0FBQ0wsUUFDRCwrQkFBK0JpQyxVQUFVLG1CQUN6QyxxRUFDQSwwQkFBMEI7d0JBQzFCRTt3QkFDQTtvQkFDSjtvQkFFQS9CLFlBQVlDLEtBQUtDLFlBQVlDLFNBQVNoRCxJQUFJLENBQUMsU0FBVXFHLElBQUk7d0JBQ3JELElBQUlBLE1BQU07NEJBQ04sa0NBQWtDOzRCQUNsQyxJQUFJbkIsS0FBS3hDLFVBQVV5QyxJQUFJLENBQUN2QyxRQUFRd0M7NEJBQ2hDRixHQUFHaUIsU0FBUyxHQUFHLFNBQVViLEtBQUs7Z0NBQzFCLElBQUlDLEtBQUtELE1BQU1FLE1BQU0sQ0FBQ0MsTUFBTTtnQ0FDNUIsSUFBSVcsS0FBS2IsR0FBR1MsV0FBVyxDQUFDO29DQUFDO2lDQUFTLEVBQUU7Z0NBQ3BDLElBQUlMLEtBQUtTLEdBQUdILFdBQVcsQ0FBQztnQ0FDeEIsSUFBSWYsS0FBS1MsR0FBR1csR0FBRyxDQUFDRCxNQUFNdkQ7Z0NBRXRCb0MsR0FBR2lCLFNBQVMsR0FBRyxTQUFVYixLQUFLO29DQUM5QnRDLFFBQVEsa0JBQWtCRixNQUFNO29DQUNoQzZCLFFBQVFGLEtBQUs0QjtnQ0FDYjtnQ0FFQW5CLEdBQUdxQixPQUFPLEdBQUcsU0FBVWpCLEtBQUs7b0NBQzVCdEMsUUFBUSxrQ0FBa0NGLE1BQU07b0NBQ2hEOEI7Z0NBQ0E7NEJBQ0o7d0JBQ0o7b0JBQ0o7Z0JBQ0o7WUFDSjtZQUVBTSxHQUFHcUIsT0FBTyxHQUFHLFNBQVVqQixLQUFLO2dCQUN4QnRDLFFBQVE7Z0JBQ1I0QjtZQUNKO1FBQ0o7UUFFQU0sR0FBR3FCLE9BQU8sR0FBRyxTQUFVakIsS0FBSztZQUN4QnRDLFFBQVE7WUFDUjRCO1FBQ0o7UUFFQU0sR0FBR3NCLFNBQVMsR0FBRyxTQUFVbEIsS0FBSztZQUMxQnRDLFFBQVE7WUFDUjRCO1FBQ0o7UUFFQU0sR0FBR3VCLE9BQU8sR0FBRyxTQUFVbkIsS0FBSztZQUN4QnRDLFFBQVE7UUFDWjtJQUNKO0lBRUEsb0JBQW9CO0lBQ3BCLElBQUkwRCxVQUFVO0lBRWQsYUFBYTtJQUNiLElBQUlDLFFBQVE7SUFDWixJQUFJQyxTQUFTO0lBRWIsc0JBQXNCO0lBQ3RCLElBQUlyRyxXQUFXO0lBRWYsYUFBYTtJQUNiLElBQUlzRyxnQkFBZ0I7SUFFcEIsaUJBQWlCO0lBQ2pCLDRCQUE0QjtJQUM1QiwrQkFBK0I7SUFDL0Isa0NBQWtDO0lBQ2xDLHdDQUF3QztJQUN4QyxTQUFTO0lBQ1QsK0NBQStDO0lBQy9DLFNBQVM7SUFDVCwyQkFBMkI7SUFDM0IsOENBQThDO0lBQzlDLFNBQVM7SUFDVCw0QkFBNEI7SUFDNUIsMERBQTBEO0lBQzFELFFBQVE7SUFDUixLQUFLO0lBRUwsRUFBRTtJQUNGLGVBQWU7SUFDZixFQUFFO0lBRUYsSUFBSXpCLFlBQVk7SUFDaEIsSUFBSXhDLFNBQVk7SUFDaEIsSUFBSUYsWUFBWW9FLE9BQU9wRSxTQUFTLElBQUlvRSxPQUFPQyxZQUFZLElBQUlELE9BQU9FLGVBQWUsSUFBSUYsT0FBT0csV0FBVztJQUV2RyxTQUFTQyxRQUFRQyxLQUFLLEVBQUVDLEdBQUc7UUFDdkIsNkNBQTZDO1FBQzdDLGdDQUFnQztRQUNoQyxJQUFJO1lBQ0E5SCxPQUFPK0gsU0FBUyxDQUFDRjtRQUNyQixFQUFFLE9BQU9HLEdBQUc7UUFDUixTQUFTO1FBQ2I7UUFFQWhJLE9BQU9pSSxpQkFBaUIsQ0FBQyxLQUFLSixPQUFPQyxLQUFLLE1BQU07UUFFaEQzRyxjQUFjLDRCQUE0QjBHLFFBQVEsWUFBWUMsSUFBSXJGLE1BQU07UUFFeEVKLFNBQVNDLGNBQWMsQ0FBQyx3QkFBd0I0RixTQUFTLEdBQUcsYUFBYVgsZ0JBQWdCO1FBRXpGLElBQUlBLGlCQUFpQixNQUFNO1lBQ3ZCbEYsU0FBU0MsY0FBYyxDQUFDLFNBQVM2RixRQUFRLEdBQUc7WUFDNUM5RixTQUFTQyxjQUFjLENBQUMsUUFBUzZGLFFBQVEsR0FBRztRQUNoRDtJQUNKO0lBRUEsU0FBU0MsWUFBWUMsS0FBSztRQUN0QixJQUFJQyxPQUFPO1lBQ1AsV0FBVztZQUNYLFdBQVc7UUFDZjtRQUVBLElBQUlDLFFBQVE7WUFDUixXQUFXO1lBQ1gsV0FBVztRQUNmO1FBRUEsSUFBSS9FLE1BQVU4RSxJQUFJLENBQUNELE1BQU07UUFDekIsSUFBSWxELE1BQVU7UUFDZCxJQUFJQyxVQUFVbUQsS0FBSyxDQUFDRixNQUFNO1FBRTFCZCxnQkFBZ0JjO1FBRWhCaEcsU0FBU0MsY0FBYyxDQUFDLHlCQUF5QmtHLEtBQUssQ0FBQ0MsT0FBTyxHQUFHO1FBQ2pFcEcsU0FBU0MsY0FBYyxDQUFDLHlCQUF5QmtHLEtBQUssQ0FBQ0MsT0FBTyxHQUFHO1FBQ2pFcEcsU0FBU0MsY0FBYyxDQUFDLHdCQUF3QjRGLFNBQVMsR0FBRyxjQUFjRyxRQUFRO1FBRWxGLElBQUk1RSxhQUFhLFNBQVNpRixDQUFDO1lBQ3ZCLElBQUlDLEtBQUt0RyxTQUFTQyxjQUFjLENBQUM7WUFDakNxRyxHQUFHVCxTQUFTLEdBQUd0RCxLQUFLQyxLQUFLLENBQUMsTUFBSTZELEtBQUs7WUFFbkNwSSxRQUFRQyxHQUFHLENBQUMsZUFBZXFFLEtBQUtDLEtBQUssQ0FBQyxNQUFJNkQsS0FBSztZQUMvQ0UsZUFBZUMsT0FBTyxDQUFDLG9CQUFvQmpFLEtBQUtDLEtBQUssQ0FBQyxNQUFJNkQ7UUFDOUQ7UUFFQSxJQUFJcEQsV0FBVztZQUNYLElBQUlxRDtZQUNKQSxLQUFLdEcsU0FBU0MsY0FBYyxDQUFDO1lBQTBCLElBQUlxRyxJQUFJQSxHQUFHSCxLQUFLLENBQUNDLE9BQU8sR0FBRztZQUNsRkUsS0FBS3RHLFNBQVNDLGNBQWMsQ0FBQztZQUEwQixJQUFJcUcsSUFBSUEsR0FBR0gsS0FBSyxDQUFDQyxPQUFPLEdBQUc7WUFDbEZFLEtBQUt0RyxTQUFTQyxjQUFjLENBQUM7WUFBMEIsSUFBSXFHLElBQUlBLEdBQUdULFNBQVMsR0FBRztRQUNsRjtRQUVBaEQsV0FBVzFCLEtBQUsyQixLQUFLQyxTQUFTM0IsWUFBWW1FLFNBQVN0QyxVQUFVbkU7SUFDakU7SUFFQSxFQUFFO0lBQ0YsYUFBYTtJQUNiLEVBQUU7SUFFRixNQUFNMkgsY0FBYztJQUNwQixNQUFNQyxzQkFBc0I7SUFDNUIsTUFBTUMsb0JBQW9CLE1BQU0sMkRBQTJEO0lBRTNGLElBQUlDLGdCQUFnQjtJQUNwQixJQUFJQyxjQUFjO0lBQ2xCLElBQUlDLFlBQVk7SUFFaEIzQixPQUFPNEIsWUFBWSxHQUFHNUIsT0FBTzRCLFlBQVksSUFBSTVCLE9BQU82QixrQkFBa0I7SUFDdEU3QixPQUFPOEIsbUJBQW1CLEdBQUc5QixPQUFPOEIsbUJBQW1CLElBQUk5QixPQUFPK0IseUJBQXlCO0lBRTNGLFNBQVNDO1FBQ0x4SixPQUFPeUosVUFBVSxDQUFDO1FBQ2xCUCxjQUFjO1FBQ2Q1QixTQUFTO1FBQ1RELFFBQVE7UUFDUkQsVUFBVTtJQUNkO0lBRUEsU0FBU3NDO1FBQ0wsSUFBSSxDQUFDdEMsU0FBUztZQUNWQSxVQUFVLElBQUlnQyxhQUFhO2dCQUN2Qk8sWUFBWWI7Z0JBQ1pjLGNBQWM7Z0JBQ2RDLGtCQUFrQjtnQkFDbEJDLGlCQUFrQjtnQkFDbEJDLGtCQUFrQjtZQUN0QjtRQUNKO1FBRUEvSixPQUFPeUosVUFBVSxDQUFDO1FBRWxCcEgsU0FBU0MsY0FBYyxDQUFDLFNBQVM2RixRQUFRLEdBQUc7UUFDNUM5RixTQUFTQyxjQUFjLENBQUMsUUFBUTZGLFFBQVEsR0FBRztRQUUzQ2UsY0FBYztRQUNkQyxZQUFZYSxLQUFLQyxHQUFHO1FBRXBCLElBQUk1RixTQUFTLEVBQUU7UUFDZixJQUFJNkYsU0FBUztRQUViM0UsVUFBVTRFLFlBQVksQ0FBQ0MsWUFBWSxDQUFDO1lBQUMvQyxPQUFPO1lBQU1nRCxPQUFPO1FBQUssR0FDekQzSixJQUFJLENBQUMsU0FBUzRKLENBQUM7WUFDWkosU0FBU0k7WUFDVHJCLGdCQUFnQixJQUFJc0IsY0FBY0w7WUFDbENqQixjQUFjdUIsZUFBZSxHQUFHLFNBQVN4QyxDQUFDO2dCQUN0QzNELE9BQU9LLElBQUksQ0FBQ3NELEVBQUVqQixJQUFJO2dCQUVsQixJQUFJMEQsT0FBTyxJQUFJQyxLQUFLckcsUUFBUTtvQkFBRSxRQUFTO2dCQUF5QjtnQkFDaEUsSUFBSUgsU0FBUyxJQUFJeUc7Z0JBRWpCekcsT0FBTzBHLE1BQU0sR0FBRyxTQUFTNUUsS0FBSztvQkFDMUIsSUFBSThCLE1BQU0sSUFBSTlDLFdBQVdkLE9BQU9pQyxNQUFNO29CQUV0QyxJQUFJLENBQUNpQixTQUFTO3dCQUNWO29CQUNKO29CQUNBQSxRQUFReUQsZUFBZSxDQUFDL0MsSUFBSWhHLE1BQU0sRUFBRSxTQUFTZ0osV0FBVzt3QkFDcEQsSUFBSUMsaUJBQWlCLElBQUl6QixvQkFBb0J3QixZQUFZRSxnQkFBZ0IsRUFBRUYsWUFBWXJJLE1BQU0sRUFBRXFJLFlBQVluQixVQUFVO3dCQUNySCxJQUFJc0IsU0FBU0YsZUFBZUcsa0JBQWtCO3dCQUM5Q0QsT0FBT25KLE1BQU0sR0FBR2dKO3dCQUNoQkcsT0FBT0UsT0FBTyxDQUFDSixlQUFlSyxXQUFXO3dCQUN6Q0gsT0FBT0ksS0FBSyxDQUFDO3dCQUViTixlQUFlTyxjQUFjLEdBQUc1SyxJQUFJLENBQUMsU0FBUzZLLGNBQWM7NEJBQ3hEbEUsUUFBUWtFLGVBQWVDLGNBQWMsQ0FBQzs0QkFFdEMscUhBQXFIOzRCQUVySCxJQUFJQyxXQUFXLElBQUlDLGFBQWFwRSxVQUFVLE9BQU9ELE1BQU01RSxNQUFNLEdBQUc2RSxPQUFPN0UsTUFBTSxHQUFHNEUsTUFBTTVFLE1BQU07NEJBQzVGLElBQUk2RSxVQUFVLE1BQU07Z0NBQ2hCbUUsU0FBU3RKLEdBQUcsQ0FBQ21GLFFBQVE7NEJBQ3pCOzRCQUNBbUUsU0FBU3RKLEdBQUcsQ0FBQ2tGLE9BQU9DLFVBQVUsT0FBTyxJQUFJQSxPQUFPN0UsTUFBTTs0QkFFdEQsSUFBSXhCLFVBQVU7Z0NBQ1ZqQixPQUFPMkwsU0FBUyxDQUFDMUssVUFBVXdLOzRCQUMvQjt3QkFDSjtvQkFDSixHQUFHLFNBQVN6RCxDQUFDO3dCQUNUWCxRQUFRO29CQUNaO2dCQUNKO2dCQUVBbkQsT0FBTzBILGlCQUFpQixDQUFDbkI7WUFDN0I7WUFFQXhCLGNBQWM0QyxNQUFNLEdBQUcsU0FBUzdELENBQUM7Z0JBQzdCLElBQUlrQixhQUFhO29CQUNiNEMsV0FBVzt3QkFDUHBDO29CQUNKO2dCQUNKO1lBQ0o7WUFFQVQsY0FBY29DLEtBQUssQ0FBQ3JDO1FBQ3hCLEdBQ0MrQyxLQUFLLENBQUMsU0FBU0MsR0FBRztZQUNmN0ssY0FBYyxxQ0FBcUM2SztRQUN2RDtRQUVKLElBQUlDLFdBQVdDLFlBQVk7WUFDdkIsSUFBSSxDQUFDaEQsYUFBYTtnQkFDZGlELGNBQWNGO2dCQUNkaEQsY0FBY21ELElBQUk7Z0JBQ2xCbEMsT0FBT21DLFNBQVMsR0FBR0MsT0FBTyxDQUFDLFNBQVNDLEtBQUs7b0JBQ3JDQSxNQUFNSCxJQUFJO2dCQUNkO2dCQUVBL0osU0FBU0MsY0FBYyxDQUFDLFNBQVM2RixRQUFRLEdBQUc7Z0JBQzVDOUYsU0FBU0MsY0FBYyxDQUFDLFFBQVE2RixRQUFRLEdBQUk7Z0JBRTVDYyxnQkFBZ0I7WUFDcEI7WUFFQSw4RUFBOEU7WUFDOUUsSUFBSTVCLFNBQVMsUUFBUUEsTUFBTTVFLE1BQU0sR0FBR3FHLGNBQVlDLHFCQUFxQjtnQkFDakUsSUFBSUcsYUFBYTtvQkFDYiw0Q0FBNEM7b0JBRTVDaUQsY0FBY0Y7b0JBQ2QzRSxTQUFTRDtvQkFDVEEsUUFBUTtvQkFDUjRCLGNBQWNtRCxJQUFJO29CQUNsQmxDLE9BQU9tQyxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxTQUFTQyxLQUFLO3dCQUNyQ0EsTUFBTUgsSUFBSTtvQkFDZDtnQkFDSjtZQUNKO1FBQ0osR0FBRztJQUNQO0lBRUEsRUFBRTtJQUNGLE9BQU87SUFDUCxFQUFFO0lBRUYsSUFBSUksU0FBUztJQUNiLElBQUlDLGlCQUFpQjtJQUNyQixJQUFJQyxpQkFBaUI7SUFFckIsU0FBU0M7UUFDTCxJQUFJLENBQUMxTCxVQUFVO1lBQ1hBLFdBQVdqQixPQUFPNE0sSUFBSSxDQUFDO1lBRXZCLElBQUkzTCxVQUFVO2dCQUNWRSxjQUFjLHdDQUF3Q0Y7WUFDMUQ7UUFDSjtRQUVBLElBQUksQ0FBQ0EsVUFBVTtZQUNYRSxjQUFjO1lBQ2Q7UUFDSjtRQUVBdUk7UUFFQStDLGlCQUFpQlAsWUFBWTtZQUN6QixJQUFJVyxjQUFjN00sT0FBTzhNLGVBQWU7WUFFeEMsSUFBSUQsZUFBZSxRQUFRQSxZQUFZcEssTUFBTSxHQUFHLEdBQUc7Z0JBQy9DaUssa0JBQWtCRyxjQUFjO2dCQUNoQ0w7Z0JBRUEsK0NBQStDO2dCQUMvQyxJQUFJQSxTQUFTLElBQUk7b0JBQ2IsSUFBSU8sSUFBSUwsZUFBZU0sT0FBTyxDQUFDO29CQUMvQixJQUFJRCxJQUFJLEdBQUc7d0JBQ1BMLGlCQUFpQkEsZUFBZU8sU0FBUyxDQUFDRixJQUFJO3dCQUM5Q1A7b0JBQ0o7Z0JBQ0o7WUFDSjtZQUVBbkssU0FBU0MsY0FBYyxDQUFDLGdCQUFnQjRGLFNBQVMsR0FBR2xJLE9BQU9rTixVQUFVO1lBQ3JFN0ssU0FBU0MsY0FBYyxDQUFDLHFCQUFxQjRGLFNBQVMsR0FBR3dFO1lBQ3pELHVEQUF1RDtZQUN2RDlELGVBQWVDLE9BQU8sQ0FBQyxzQkFBc0I2RDtRQUNqRCxHQUFHO0lBQ1A7SUFFQSxTQUFTUztRQUNMM0Q7SUFDSjtJQUVEM0osZ0RBQVNBLENBQUM7UUFDUDJILE9BQU80RixnQkFBZ0IsQ0FBQyxXQUFXLENBQUNwSDtZQUNqQyxJQUFJQSxNQUFNcUgsR0FBRyxLQUFLLGFBQWE7Z0JBQzVCLElBQUlySCxNQUFNc0gsUUFBUSxLQUFLLFFBQVE7b0JBQzVCaE4sUUFBUUMsR0FBRyxDQUFDO29CQUNab007Z0JBQ0gsT0FBTztvQkFDSnJNLFFBQVFDLEdBQUcsQ0FBQztvQkFDWjRNO2dCQUNIO1lBQ0g7UUFDSjtRQUVBM0YsT0FBTzRGLGdCQUFnQixDQUFDLFdBQVcsQ0FBQ3BIO1lBQ2hDLElBQUlBLE1BQU1xSCxHQUFHLEtBQUssZ0JBQWdCO2dCQUMvQixJQUFJckgsTUFBTXNILFFBQVEsS0FBSyxRQUFRO29CQUM1QmhOLFFBQVFDLEdBQUcsQ0FBQztvQkFDWjJDO2dCQUNILE9BQU87b0JBQ0o1QyxRQUFRQyxHQUFHLENBQUM7Z0JBQ2Y7WUFDSDtRQUNKO1FBRUFpSCxPQUFPNEYsZ0JBQWdCLENBQUMsV0FBVyxDQUFDcEg7WUFDaEMsSUFBSUEsTUFBTXFILEdBQUcsS0FBSyxrQkFBa0I7Z0JBQ2pDLElBQUlySCxNQUFNc0gsUUFBUSxLQUFLLFFBQVE7b0JBQzVCaE4sUUFBUUMsR0FBRyxDQUFDO29CQUNaNkgsWUFBWTtnQkFDZixPQUFPO29CQUNKOUgsUUFBUUMsR0FBRyxDQUFDO2dCQUNmO1lBQ0g7UUFDSjtRQUVBaUgsT0FBTzRGLGdCQUFnQixDQUFDLFdBQVcsQ0FBQ3BIO1lBQ2hDLElBQUlBLE1BQU1xSCxHQUFHLEtBQUssa0JBQWtCO2dCQUNqQyxJQUFJckgsTUFBTXNILFFBQVEsS0FBSyxRQUFRO29CQUM1QmhOLFFBQVFDLEdBQUcsQ0FBQztvQkFDWjZILFlBQVk7Z0JBQ2YsT0FBTztvQkFDSjlILFFBQVFDLEdBQUcsQ0FBQztnQkFDZjtZQUNIO1FBQ0o7SUFDRixHQUFHLEVBQUU7SUFFTCxxQkFDRTs7MEJBQ0UsOERBQUNnTjtnQkFBSUMsSUFBRzs7a0NBQ04sOERBQUNDO2tDQUFFOzs7Ozs7a0NBRUgsOERBQUNDOzs7OztvQkFBSztrQ0FJTiw4REFBQ0M7Ozs7O2tDQUVELDhEQUFDSjt3QkFBSUMsSUFBRzs7NEJBQWdCOzBDQUNOLDhEQUFDSTtnQ0FBS0osSUFBRzs7Ozs7OzBDQUN4Qiw4REFBQ0s7Z0NBQU9MLElBQUc7Z0NBQXdCTSxTQUFTO29DQUFPMUYsWUFBWTtnQ0FBVzswQ0FBRzs7Ozs7OzBDQUM3RSw4REFBQ3lGO2dDQUFPTCxJQUFHO2dDQUF3Qk0sU0FBUztvQ0FBTzFGLFlBQVk7Z0NBQVc7MENBQUc7Ozs7OzswQ0FDN0UsOERBQUN3RjtnQ0FBS0osSUFBRzs7Ozs7Ozs7Ozs7O2tDQUdaLDhEQUFDRzs7Ozs7a0NBRUQsOERBQUNKO3dCQUFJQyxJQUFHOzswQ0FDTCw4REFBQ0s7Z0NBQU9MLElBQUc7Z0NBQVNNLFNBQVM7b0NBQU9uQjtnQ0FBVTtnQ0FBR3hFLFFBQVE7MENBQUM7Ozs7OzswQ0FDMUQsOERBQUMwRjtnQ0FBT0wsSUFBRztnQ0FBU00sU0FBUztvQ0FBT1g7Z0NBQVM7Z0NBQUdoRixRQUFROzBDQUFDOzs7Ozs7MENBQ3pELDhEQUFDMEY7Z0NBQU9MLElBQUc7Z0NBQVNNLFNBQVM7b0NBQU81SztnQ0FBYTswQ0FBRzs7Ozs7Ozs7Ozs7O2tDQUd2RCw4REFBQ3lLOzs7OztrQ0FFRCw4REFBQ0o7d0JBQUlDLElBQUc7OzRCQUFROzBDQUNMLDhEQUFDQzswQ0FBRSw0RUFBQ0c7b0NBQUtKLElBQUc7OENBQWU7Ozs7Ozs7Ozs7OzBDQUVuQyw4REFBQ087Z0NBQUlQLElBQUc7MENBQW9COzs7Ozs7Ozs7Ozs7a0NBRy9CLDhEQUFDRTs7Ozs7b0JBQUs7a0NBR04sOERBQUNNO3dCQUFTUixJQUFHO3dCQUFTUyxNQUFNOzs7Ozs7a0NBRTVCLDhEQUFDTjs7Ozs7a0NBRUQsOERBQUNGO2tDQUFFOzs7Ozs7a0NBRUgsOERBQUNFOzs7OztvQkFBSztrQ0FJTiw4REFBQ087OzBDQUNFLDhEQUFDQzswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDQTswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDQTs7b0NBQUc7a0RBQTJCLDhEQUFDQzt3Q0FBRUMsTUFBSztrREFBbUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFHaEYsOERBQUNDO2dCQUFPek0sTUFBSztnQkFBa0JELEtBQUk7Ozs7OzswQkFDbkMsOERBQUMwTTtnQkFBT3pNLE1BQUs7Z0JBQWtCRCxLQUFJOzs7Ozs7OztBQUd6QztHQTVsQndCN0I7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL3doaXNwZXIvcGFnZS5qcz8xNDE1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdoaXNwZXJQYWdlKCkge1xuICAgIGNvbnN0IFtNb2R1bGUsIHNldE1vZHVsZV0gPSB1c2VTdGF0ZShudWxsKTtcblxuICAgIC8vIGNvbnN0IGltcG9ydE9iamVjdCA9IHtcbiAgICAvLyAgICAgaW1wb3J0czogeyBpbXBvcnRlZF9mdW5jOiAoYXJnKSA9PiBjb25zb2xlLmxvZyhhcmcpIH1cbiAgICAvLyAgIH07XG4gICAgY29uc3QgaW1wb3J0T2JqZWN0ID0ge1xuICAgICAgICBlbnY6IHtcbiAgICAgICAgICBjb25zb2xlTG9nOiAoYXJnKSA9PiBjb25zb2xlLmxvZyhhcmcpLFxuICAgICAgICAgIHNvbWVWYWx1ZTogMTIzNFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGZldGNoKFwiL2xpYnN0cmVhbS53YXNtXCIpXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcbiAgICAgICAgLnRoZW4oKGJ5dGVzKSA9PiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShieXRlcywgaW1wb3J0T2JqZWN0KSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgIHNldE1vZHVsZShyZXN1bHRzLmluc3RhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKE1vZHVsZSkge1xuICAgICAgICAgICAgTW9kdWxlLnByaW50ID0gcHJpbnRUZXh0YXJlYTtcbiAgICAgICAgICAgIE1vZHVsZS5wcmludEVyciA9IHByaW50VGV4dGFyZWE7XG4gICAgICAgICAgICBNb2R1bGUuc2V0U3RhdHVzID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgICAgICAgIHByaW50VGV4dGFyZWEoJ2pzOiAnICsgdGV4dCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgTW9kdWxlLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMgPSBmdW5jdGlvbihsZWZ0KSB7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgTW9kdWxlLnByZVJ1biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHByaW50VGV4dGFyZWEoJ2pzOiBQcmVwYXJpbmcgLi4uJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgTW9kdWxlLnBvc3RSdW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwcmludFRleHRhcmVhKCdqczogSW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sIFtNb2R1bGVdKTtcbiAgIFxuICAgIGZ1bmN0aW9uIGNvbnZlcnRUeXBlZEFycmF5KHNyYywgdHlwZSkge1xuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoc3JjLmJ5dGVMZW5ndGgpO1xuICAgIHZhciBiYXNlVmlldyA9IG5ldyBzcmMuY29uc3RydWN0b3IoYnVmZmVyKS5zZXQoc3JjKTtcbiAgICByZXR1cm4gbmV3IHR5cGUoYnVmZmVyKTtcbiAgICB9XG5cbiAgICB2YXIgcHJpbnRUZXh0YXJlYSA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKTtcbiAgICBpZiAoZWxlbWVudCkgZWxlbWVudC5hbHVlID0gJyc7IC8vIGNsZWFyIGJyb3dzZXIgY2FjaGVcbiAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHRleHQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oJyAnKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgKz0gdGV4dCArIFwiXFxuXCI7XG4gICAgICAgICAgICBlbGVtZW50LnNjcm9sbFRvcCA9IGVsZW1lbnQuc2Nyb2xsSGVpZ2h0OyAvLyBmb2N1cyBvbiBib3R0b21cbiAgICAgICAgfVxuICAgIH07XG4gICAgfSkoKTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG4gICAgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjbGVhciB0aGUgY2FjaGU/XFxuQWxsIHRoZSBtb2RlbHMgd2lsbCBiZSBkb3dubG9hZGVkIGFnYWluLicpKSB7XG4gICAgICAgIGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShkYk5hbWUpO1xuICAgIH1cbiAgICB9XG5cbiAgICAvLyBmZXRjaCBhIHJlbW90ZSBmaWxlIGZyb20gcmVtb3RlIFVSTCB1c2luZyB0aGUgRmV0Y2ggQVBJXG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZW1vdGUodXJsLCBjYlByb2dyZXNzLCBjYlByaW50KSB7XG4gICAgICAgIGNiUHJpbnQoJ2ZldGNoUmVtb3RlOiBkb3dubG9hZGluZyB3aXRoIGZldGNoKCkuLi4nKTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjYlByaW50KCdmZXRjaFJlbW90ZTogZmFpbGVkIHRvIGZldGNoICcgKyB1cmwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udGVudExlbmd0aCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpO1xuICAgICAgICBjb25zdCB0b3RhbCA9IHBhcnNlSW50KGNvbnRlbnRMZW5ndGgsIDEwKTtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTtcblxuICAgICAgICB2YXIgY2h1bmtzID0gW107XG4gICAgICAgIHZhciByZWNlaXZlZExlbmd0aCA9IDA7XG4gICAgICAgIHZhciBwcm9ncmVzc0xhc3QgPSAtMTtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcblxuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2h1bmtzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgcmVjZWl2ZWRMZW5ndGggKz0gdmFsdWUubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAoY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNiUHJvZ3Jlc3MocmVjZWl2ZWRMZW5ndGgvdG90YWwpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzQ3VyID0gTWF0aC5yb3VuZCgocmVjZWl2ZWRMZW5ndGggLyB0b3RhbCkgKiAxMCk7XG4gICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzQ3VyICE9IHByb2dyZXNzTGFzdCkge1xuICAgICAgICAgICAgICAgICAgICBjYlByaW50KCdmZXRjaFJlbW90ZTogZmV0Y2hpbmcgJyArIDEwKnByb2dyZXNzQ3VyICsgJyUgLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTGFzdCA9IHByb2dyZXNzQ3VyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IDA7XG4gICAgICAgIHZhciBjaHVua3NBbGwgPSBuZXcgVWludDhBcnJheShyZWNlaXZlZExlbmd0aCk7XG5cbiAgICAgICAgZm9yICh2YXIgY2h1bmsgb2YgY2h1bmtzKSB7XG4gICAgICAgICAgICBjaHVua3NBbGwuc2V0KGNodW5rLCBwb3NpdGlvbik7XG4gICAgICAgICAgICBwb3NpdGlvbiArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2h1bmtzQWxsO1xuICAgIH1cblxuICAgIC8vIGxvYWQgcmVtb3RlIGRhdGFcbiAgICAvLyAtIGNoZWNrIGlmIHRoZSBkYXRhIGlzIGFscmVhZHkgaW4gdGhlIEluZGV4ZWREQlxuICAgIC8vIC0gaWYgbm90LCBmZXRjaCBpdCBmcm9tIHRoZSByZW1vdGUgVVJMIGFuZCBzdG9yZSBpdCBpbiB0aGUgSW5kZXhlZERCXG4gICAgZnVuY3Rpb24gbG9hZFJlbW90ZSh1cmwsIGRzdCwgc2l6ZV9tYiwgY2JQcm9ncmVzcywgY2JSZWFkeSwgY2JDYW5jZWwsIGNiUHJpbnQpIHtcbiAgICAgICAgLy8gcXVlcnkgdGhlIHN0b3JhZ2UgcXVvdGEgYW5kIHByaW50IGl0XG4gICAgICAgIG5hdmlnYXRvci5zdG9yYWdlLmVzdGltYXRlKCkudGhlbihmdW5jdGlvbiAoZXN0aW1hdGUpIHtcbiAgICAgICAgICAgIGNiUHJpbnQoJ2xvYWRSZW1vdGU6IHN0b3JhZ2UgcXVvdGE6ICcgKyBlc3RpbWF0ZS5xdW90YSArICcgYnl0ZXMnKTtcbiAgICAgICAgICAgIGNiUHJpbnQoJ2xvYWRSZW1vdGU6IHN0b3JhZ2UgdXNhZ2U6ICcgKyBlc3RpbWF0ZS51c2FnZSArICcgYnl0ZXMnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGRhdGEgaXMgYWxyZWFkeSBpbiB0aGUgSW5kZXhlZERCXG4gICAgICAgIHZhciBycSA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgZGJWZXJzaW9uKTtcblxuICAgICAgICBycS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICBpZiAoZGIudmVyc2lvbiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9zID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ21vZGVscycsIHsgYXV0b0luY3JlbWVudDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgY2JQcmludCgnbG9hZFJlbW90ZTogY3JlYXRlZCBJbmRleGVkREIgJyArIGRiLm5hbWUgKyAnIHZlcnNpb24gJyArIGRiLnZlcnNpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBjbGVhciB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICB2YXIgb3MgPSBldmVudC5jdXJyZW50VGFyZ2V0LnRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdtb2RlbHMnKTtcbiAgICAgICAgICAgICAgICBvcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIGNiUHJpbnQoJ2xvYWRSZW1vdGU6IGNsZWFyZWQgSW5kZXhlZERCICcgKyBkYi5uYW1lICsgJyB2ZXJzaW9uICcgKyBkYi52ZXJzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBycS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICB2YXIgdHggPSBkYi50cmFuc2FjdGlvbihbJ21vZGVscyddLCAncmVhZG9ubHknKTtcbiAgICAgICAgICAgIHZhciBvcyA9IHR4Lm9iamVjdFN0b3JlKCdtb2RlbHMnKTtcbiAgICAgICAgICAgIHZhciBycSA9IG9zLmdldCh1cmwpO1xuXG4gICAgICAgICAgICBycS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocnEucmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNiUHJpbnQoJ2xvYWRSZW1vdGU6IFwiJyArIHVybCArICdcIiBpcyBhbHJlYWR5IGluIHRoZSBJbmRleGVkREInKTtcbiAgICAgICAgICAgICAgICAgICAgY2JSZWFkeShkc3QsIHJxLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGF0YSBpcyBub3QgaW4gdGhlIEluZGV4ZWREQlxuICAgICAgICAgICAgICAgICAgICBjYlByaW50KCdsb2FkUmVtb3RlOiBcIicgKyB1cmwgKyAnXCIgaXMgbm90IGluIHRoZSBJbmRleGVkREInKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBhbGVydCBhbmQgYXNrIHRoZSB1c2VyIHRvIGNvbmZpcm1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maXJtKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1lvdSBhcmUgYWJvdXQgdG8gZG93bmxvYWQgJyArIHNpemVfbWIgKyAnIE1CIG9mIGRhdGEuXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsIGRhdGEgd2lsbCBiZSBjYWNoZWQgaW4gdGhlIGJyb3dzZXIgZm9yIGZ1dHVyZSB1c2UuXFxuXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnUHJlc3MgT0sgdG8gY29udGludWUuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiQ2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmZXRjaFJlbW90ZSh1cmwsIGNiUHJvZ3Jlc3MsIGNiUHJpbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGRhdGEgaW4gdGhlIEluZGV4ZWREQlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBycSA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgZGJWZXJzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR4ID0gZGIudHJhbnNhY3Rpb24oWydtb2RlbHMnXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3MgPSB0eC5vYmplY3RTdG9yZSgnbW9kZWxzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBycSA9IG9zLnB1dChkYXRhLCB1cmwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYlByaW50KCdsb2FkUmVtb3RlOiBcIicgKyB1cmwgKyAnXCIgc3RvcmVkIGluIHRoZSBJbmRleGVkREInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JSZWFkeShkc3QsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JQcmludCgnbG9hZFJlbW90ZTogZmFpbGVkIHRvIHN0b3JlIFwiJyArIHVybCArICdcIiBpbiB0aGUgSW5kZXhlZERCJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiQ2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcnEub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGNiUHJpbnQoJ2xvYWRSZW1vdGU6IGZhaWxlZCB0byBnZXQgZGF0YSBmcm9tIHRoZSBJbmRleGVkREInKTtcbiAgICAgICAgICAgICAgICBjYkNhbmNlbCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBycS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBjYlByaW50KCdsb2FkUmVtb3RlOiBmYWlsZWQgdG8gb3BlbiBJbmRleGVkREInKTtcbiAgICAgICAgICAgIGNiQ2FuY2VsKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcnEub25ibG9ja2VkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBjYlByaW50KCdsb2FkUmVtb3RlOiBmYWlsZWQgdG8gb3BlbiBJbmRleGVkREI6IGJsb2NrZWQnKTtcbiAgICAgICAgICAgIGNiQ2FuY2VsKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcnEub25hYm9ydCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY2JQcmludCgnbG9hZFJlbW90ZTogZmFpbGVkIHRvIG9wZW4gSW5kZXhlZERCOiBhYm9ydCcpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIHdlYiBhdWRpbyBjb250ZXh0XG4gICAgdmFyIGNvbnRleHQgPSBudWxsO1xuXG4gICAgLy8gYXVkaW8gZGF0YVxuICAgIHZhciBhdWRpbyA9IG51bGw7XG4gICAgdmFyIGF1ZGlvMCA9IG51bGw7XG5cbiAgICAvLyB0aGUgc3RyZWFtIGluc3RhbmNlXG4gICAgdmFyIGluc3RhbmNlID0gbnVsbDtcblxuICAgIC8vIG1vZGVsIG5hbWVcbiAgICB2YXIgbW9kZWxfd2hpc3BlciA9IG51bGw7XG4gICAgXG4gICAgLy8gdmFyIE1vZHVsZSA9IHtcbiAgICAvLyAgICAgcHJpbnQ6IHByaW50VGV4dGFyZWEsXG4gICAgLy8gICAgIHByaW50RXJyOiBwcmludFRleHRhcmVhLFxuICAgIC8vICAgICBzZXRTdGF0dXM6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAvLyAgICAgICAgIHByaW50VGV4dGFyZWEoJ2pzOiAnICsgdGV4dCk7XG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIG1vbml0b3JSdW5EZXBlbmRlbmNpZXM6IGZ1bmN0aW9uKGxlZnQpIHtcbiAgICAvLyAgICAgfSxcbiAgICAvLyAgICAgcHJlUnVuOiBmdW5jdGlvbigpIHtcbiAgICAvLyAgICAgICAgIHByaW50VGV4dGFyZWEoJ2pzOiBQcmVwYXJpbmcgLi4uJyk7XG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIHBvc3RSdW46IGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICAgICAgcHJpbnRUZXh0YXJlYSgnanM6IEluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH07XG5cbiAgICAvL1xuICAgIC8vIGZldGNoIG1vZGVsc1xuICAgIC8vXG5cbiAgICBsZXQgZGJWZXJzaW9uID0gMVxuICAgIGxldCBkYk5hbWUgICAgPSAnd2hpc3Blci5nZ2VyZ2Fub3YuY29tJztcbiAgICBsZXQgaW5kZXhlZERCID0gd2luZG93LmluZGV4ZWREQiB8fCB3aW5kb3cubW96SW5kZXhlZERCIHx8IHdpbmRvdy53ZWJraXRJbmRleGVkREIgfHwgd2luZG93Lm1zSW5kZXhlZERCXG5cbiAgICBmdW5jdGlvbiBzdG9yZUZTKGZuYW1lLCBidWYpIHtcbiAgICAgICAgLy8gd3JpdGUgdG8gV0FTTSBmaWxlIHVzaW5nIEZTX2NyZWF0ZURhdGFGaWxlXG4gICAgICAgIC8vIGlmIHRoZSBmaWxlIGV4aXN0cywgZGVsZXRlIGl0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBNb2R1bGUuRlNfdW5saW5rKGZuYW1lKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgIH1cblxuICAgICAgICBNb2R1bGUuRlNfY3JlYXRlRGF0YUZpbGUoXCIvXCIsIGZuYW1lLCBidWYsIHRydWUsIHRydWUpO1xuXG4gICAgICAgIHByaW50VGV4dGFyZWEoJ3N0b3JlRlM6IHN0b3JlZCBtb2RlbDogJyArIGZuYW1lICsgJyBzaXplOiAnICsgYnVmLmxlbmd0aCk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGVsLXdoaXNwZXItc3RhdHVzJykuaW5uZXJIVE1MID0gJ2xvYWRlZCBcIicgKyBtb2RlbF93aGlzcGVyICsgJ1wiISc7XG5cbiAgICAgICAgaWYgKG1vZGVsX3doaXNwZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0JykuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9wJyApLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgIFxuICAgIGZ1bmN0aW9uIGxvYWRXaGlzcGVyKG1vZGVsKSB7XG4gICAgICAgIGxldCB1cmxzID0ge1xuICAgICAgICAgICAgJ3RpbnkuZW4nOiAnaHR0cHM6Ly9nbnA0LndlYi5pbGxpbm9pcy5lZHUvc2NyaWJlYXIvZGF0YS9nZ21sLW1vZGVsLXdoaXNwZXItdGlueS5lbi5iaW4nLFxuICAgICAgICAgICAgJ2Jhc2UuZW4nOiAnaHR0cHM6Ly9nbnA0LndlYi5pbGxpbm9pcy5lZHUvc2NyaWJlYXIvZGF0YS9nZ21sLW1vZGVsLXdoaXNwZXItYmFzZS5lbi5iaW4nLFxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBzaXplcyA9IHtcbiAgICAgICAgICAgICd0aW55LmVuJzogNzUsXG4gICAgICAgICAgICAnYmFzZS5lbic6IDE0MixcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgdXJsICAgICA9IHVybHNbbW9kZWxdO1xuICAgICAgICBsZXQgZHN0ICAgICA9ICd3aGlzcGVyLmJpbic7XG4gICAgICAgIGxldCBzaXplX21iID0gc2l6ZXNbbW9kZWxdO1xuXG4gICAgICAgIG1vZGVsX3doaXNwZXIgPSBtb2RlbDtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmV0Y2gtd2hpc3Blci10aW55LWVuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZldGNoLXdoaXNwZXItYmFzZS1lbicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RlbC13aGlzcGVyLXN0YXR1cycpLmlubmVySFRNTCA9ICdsb2FkaW5nIFwiJyArIG1vZGVsICsgJ1wiIC4uLiAnO1xuXG4gICAgICAgIGxldCBjYlByb2dyZXNzID0gZnVuY3Rpb24ocCkge1xuICAgICAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZldGNoLXdoaXNwZXItcHJvZ3Jlc3MnKTtcbiAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IE1hdGgucm91bmQoMTAwKnApICsgJyUnO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHJvZ3Jlc3M6ICcgKyBNYXRoLnJvdW5kKDEwMCpwKSArICclJyk7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd3aGlzcGVyX3Byb2dyZXNzJywgTWF0aC5yb3VuZCgxMDAqcCkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBjYkNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGVsO1xuICAgICAgICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmV0Y2gtd2hpc3Blci10aW55LWVuJyk7IGlmIChlbCkgZWwuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmV0Y2gtd2hpc3Blci1iYXNlLWVuJyk7IGlmIChlbCkgZWwuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kZWwtd2hpc3Blci1zdGF0dXMnKTsgIGlmIChlbCkgZWwuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH07XG5cbiAgICAgICAgbG9hZFJlbW90ZSh1cmwsIGRzdCwgc2l6ZV9tYiwgY2JQcm9ncmVzcywgc3RvcmVGUywgY2JDYW5jZWwsIHByaW50VGV4dGFyZWEpO1xuICAgIH1cblxuICAgIC8vXG4gICAgLy8gbWljcm9waG9uZVxuICAgIC8vXG5cbiAgICBjb25zdCBrU2FtcGxlUmF0ZSA9IDE2MDAwO1xuICAgIGNvbnN0IGtSZXN0YXJ0UmVjb3JkaW5nX3MgPSAxMjA7XG4gICAgY29uc3Qga0ludGVydmFsQXVkaW9fbXMgPSAzMDAwOyAvLyBwYXNzIHRoZSByZWNvcmRlZCBhdWRpbyB0byB0aGUgQysrIGluc3RhbmNlIGF0IHRoaXMgcmF0ZVxuXG4gICAgdmFyIG1lZGlhUmVjb3JkZXIgPSBudWxsO1xuICAgIHZhciBkb1JlY29yZGluZyA9IGZhbHNlO1xuICAgIHZhciBzdGFydFRpbWUgPSAwO1xuXG4gICAgd2luZG93LkF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcbiAgICB3aW5kb3cuT2ZmbGluZUF1ZGlvQ29udGV4dCA9IHdpbmRvdy5PZmZsaW5lQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0O1xuXG4gICAgZnVuY3Rpb24gc3RvcFJlY29yZGluZygpIHtcbiAgICAgICAgTW9kdWxlLnNldF9zdGF0dXMoXCJwYXVzZWRcIik7XG4gICAgICAgIGRvUmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIGF1ZGlvMCA9IG51bGw7XG4gICAgICAgIGF1ZGlvID0gbnVsbDtcbiAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnRSZWNvcmRpbmcoKSB7XG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoe1xuICAgICAgICAgICAgICAgIHNhbXBsZVJhdGU6IGtTYW1wbGVSYXRlLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgICAgICBlY2hvQ2FuY2VsbGF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhdXRvR2FpbkNvbnRyb2w6ICB0cnVlLFxuICAgICAgICAgICAgICAgIG5vaXNlU3VwcHJlc3Npb246IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIE1vZHVsZS5zZXRfc3RhdHVzKFwiXCIpO1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3AnKS5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIGRvUmVjb3JkaW5nID0gdHJ1ZTtcbiAgICAgICAgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICB2YXIgY2h1bmtzID0gW107XG4gICAgICAgIHZhciBzdHJlYW0gPSBudWxsO1xuXG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHthdWRpbzogdHJ1ZSwgdmlkZW86IGZhbHNlfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0gPSBzO1xuICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pO1xuICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBjaHVua3MucHVzaChlLmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoY2h1bmtzLCB7ICd0eXBlJyA6ICdhdWRpby9vZ2c7IGNvZGVjcz1vcHVzJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmID0gbmV3IFVpbnQ4QXJyYXkocmVhZGVyLnJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGJ1Zi5idWZmZXIsIGZ1bmN0aW9uKGF1ZGlvQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZmxpbmVDb250ZXh0ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoYXVkaW9CdWZmZXIubnVtYmVyT2ZDaGFubmVscywgYXVkaW9CdWZmZXIubGVuZ3RoLCBhdWRpb0J1ZmZlci5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gb2ZmbGluZUNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLmJ1ZmZlciA9IGF1ZGlvQnVmZmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KG9mZmxpbmVDb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZsaW5lQ29udGV4dC5zdGFydFJlbmRlcmluZygpLnRoZW4oZnVuY3Rpb24ocmVuZGVyZWRCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW8gPSByZW5kZXJlZEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ByaW50VGV4dGFyZWEoJ2pzOiBhdWRpbyByZWNvcmRlZCwgc2l6ZTogJyArIGF1ZGlvLmxlbmd0aCArICcsIG9sZCBzaXplOiAnICsgKGF1ZGlvMCA9PSBudWxsID8gMCA6IGF1ZGlvMC5sZW5ndGgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXVkaW9BbGwgPSBuZXcgRmxvYXQzMkFycmF5KGF1ZGlvMCA9PSBudWxsID8gYXVkaW8ubGVuZ3RoIDogYXVkaW8wLmxlbmd0aCArIGF1ZGlvLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdWRpbzAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9BbGwuc2V0KGF1ZGlvMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9BbGwuc2V0KGF1ZGlvLCBhdWRpbzAgPT0gbnVsbCA/IDAgOiBhdWRpbzAubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZHVsZS5zZXRfYXVkaW8oaW5zdGFuY2UsIGF1ZGlvQWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBtZWRpYVJlY29yZGVyLm9uc3RvcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvUmVjb3JkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBtZWRpYVJlY29yZGVyLnN0YXJ0KGtJbnRlcnZhbEF1ZGlvX21zKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgcHJpbnRUZXh0YXJlYSgnanM6IGVycm9yIGdldHRpbmcgYXVkaW8gc3RyZWFtOiAnICsgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFkb1JlY29yZGluZykge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIuc3RvcCgpO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3AnKS5kaXNhYmxlZCAgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbWVkaWFSZWNvcmRlciA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIGF1ZGlvIGxlbmd0aCBpcyBtb3JlIHRoYW4ga1Jlc3RhcnRSZWNvcmRpbmdfcyBzZWNvbmRzLCByZXN0YXJ0IHJlY29yZGluZ1xuICAgICAgICAgICAgaWYgKGF1ZGlvICE9IG51bGwgJiYgYXVkaW8ubGVuZ3RoID4ga1NhbXBsZVJhdGUqa1Jlc3RhcnRSZWNvcmRpbmdfcykge1xuICAgICAgICAgICAgICAgIGlmIChkb1JlY29yZGluZykge1xuICAgICAgICAgICAgICAgICAgICAvL3ByaW50VGV4dGFyZWEoJ2pzOiByZXN0YXJ0aW5nIHJlY29yZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICBhdWRpbzAgPSBhdWRpbztcbiAgICAgICAgICAgICAgICAgICAgYXVkaW8gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBtZWRpYVJlY29yZGVyLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgIH1cblxuICAgIC8vXG4gICAgLy8gbWFpblxuICAgIC8vXG5cbiAgICB2YXIgbkxpbmVzID0gMDtcbiAgICB2YXIgaW50ZXJ2YWxVcGRhdGUgPSBudWxsO1xuICAgIHZhciB0cmFuc2NyaWJlZEFsbCA9ICcnO1xuXG4gICAgZnVuY3Rpb24gb25TdGFydCgpIHtcbiAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBNb2R1bGUuaW5pdCgnd2hpc3Blci5iaW4nKTtcblxuICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgcHJpbnRUZXh0YXJlYShcImpzOiB3aGlzcGVyIGluaXRpYWxpemVkLCBpbnN0YW5jZTogXCIgKyBpbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgICBwcmludFRleHRhcmVhKFwianM6IGZhaWxlZCB0byBpbml0aWFsaXplIHdoaXNwZXJcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydFJlY29yZGluZygpO1xuXG4gICAgICAgIGludGVydmFsVXBkYXRlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNjcmliZWQgPSBNb2R1bGUuZ2V0X3RyYW5zY3JpYmVkKCk7XG5cbiAgICAgICAgICAgIGlmICh0cmFuc2NyaWJlZCAhPSBudWxsICYmIHRyYW5zY3JpYmVkLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2NyaWJlZEFsbCArPSB0cmFuc2NyaWJlZCArICdcXG4nO1xuICAgICAgICAgICAgICAgIG5MaW5lcysrO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgbW9yZSB0aGFuIDEwIGxpbmVzLCByZW1vdmUgdGhlIGZpcnN0IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAobkxpbmVzID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0cmFuc2NyaWJlZEFsbC5pbmRleE9mKCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaWJlZEFsbCA9IHRyYW5zY3JpYmVkQWxsLnN1YnN0cmluZyhpICsgNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuTGluZXMtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXRlLXN0YXR1cycpLmlubmVySFRNTCA9IE1vZHVsZS5nZXRfc3RhdHVzKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdGUtdHJhbnNjcmliZWQnKS5pbm5lckhUTUwgPSB0cmFuc2NyaWJlZEFsbDtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2hlY2sgdHJhbnNjcmlwdGlvbjogXCIrdHJhbnNjcmliZWRBbGwpO1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnd2hpc3Blcl90cmFuc2NyaXB0JywgdHJhbnNjcmliZWRBbGwpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU3RvcCgpIHtcbiAgICAgICAgc3RvcFJlY29yZGluZygpO1xuICAgIH1cblxuICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnbGlzdGVuaW5nJykge1xuICAgICAgICAgICAgaWYgKGV2ZW50Lm5ld1ZhbHVlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RhcnRlZCFcIilcbiAgICAgICAgICAgICAgIG9uU3RhcnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0b3BwZWQhXCIpXG4gICAgICAgICAgICAgICBvblN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH1cbiAgICAgfSk7XG5cbiAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdpc0NsZWFyQ2FjaGUnKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQubmV3VmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjbGVhciBjYWNoZSFcIilcbiAgICAgICAgICAgICAgIGNsZWFyQ2FjaGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNsZWFyIGNhY2hlIVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICB9KTtcblxuICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIChldmVudCkgPT4ge1xuICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ2lzRG93bmxvYWRUaW55Jykge1xuICAgICAgICAgICAgaWYgKGV2ZW50Lm5ld1ZhbHVlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZG93bmxvYWQgdGlueSFcIilcbiAgICAgICAgICAgICAgIGxvYWRXaGlzcGVyKCd0aW55LmVuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJkb3dubG9hZCB0aW55IVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICB9KTtcbiAgICAgXG4gICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnaXNEb3dubG9hZEJhc2UnKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQubmV3VmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJkb3dubG9hZCBiYXNlIVwiKVxuICAgICAgICAgICAgICAgbG9hZFdoaXNwZXIoJ2Jhc2UuZW4nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImRvd25sb2FkIGJhc2UhXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICB9XG4gICAgIH0pO1xuICAgfSwgW10pXG4gICBcbiAgIHJldHVybiAoXG4gICAgIDw+XG4gICAgICAgPGRpdiBpZD1cIm1haW4tY29udGFpbmVyXCI+XG4gICAgICAgICA8Yj5zdHJlYW0gOiBSZWFsLXRpbWUgV2hpc3BlciB0cmFuc2NyaXB0aW9uIGluIFdlYkFzc2VtYmx5PC9iPlxuXG4gICAgICAgICA8aHIgLz5cblxuICAgICAgICAgU2VsZWN0IHRoZSBtb2RlbCB5b3Ugd291bGQgbGlrZSB0byB1c2UsIGNsaWNrIHRoZSBcIlN0YXJ0XCIgYnV0dG9uIGFuZCBzdGFydCBzcGVha2luZ1xuXG4gICAgICAgICA8YnIgLz5cblxuICAgICAgICAgPGRpdiBpZD1cIm1vZGVsLXdoaXNwZXJcIj5cbiAgICAgICAgICAgIFdoaXNwZXIgbW9kZWw6IDxzcGFuIGlkPVwibW9kZWwtd2hpc3Blci1zdGF0dXNcIj48L3NwYW4+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZmV0Y2gtd2hpc3Blci10aW55LWVuXCIgb25DbGljaz17KCkgPT4ge2xvYWRXaGlzcGVyKCd0aW55LmVuJyk7fX0+dGlueS5lbiAoNzUgTUIpPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZmV0Y2gtd2hpc3Blci1iYXNlLWVuXCIgb25DbGljaz17KCkgPT4ge2xvYWRXaGlzcGVyKCdiYXNlLmVuJyk7fX0+YmFzZS5lbiAoMTQyIE1CKTwvYnV0dG9uPlxuICAgICAgICAgICAgPHNwYW4gaWQ9XCJmZXRjaC13aGlzcGVyLXByb2dyZXNzXCI+PC9zcGFuPlxuICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgIDxiciAvPlxuXG4gICAgICAgICA8ZGl2IGlkPVwiaW5wdXRcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzdGFydFwiICBvbkNsaWNrPXsoKSA9PiB7b25TdGFydCgpO319IGRpc2FibGVkPlN0YXJ0PC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic3RvcFwiICAgb25DbGljaz17KCkgPT4ge29uU3RvcCgpO319IGRpc2FibGVkPlN0b3A8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGVhclwiICBvbkNsaWNrPXsoKSA9PiB7Y2xlYXJDYWNoZSgpO319PkNsZWFyIENhY2hlPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgPGJyIC8+XG5cbiAgICAgICAgIDxkaXYgaWQ9XCJzdGF0ZVwiPlxuICAgICAgICAgICAgU3RhdHVzOiA8Yj48c3BhbiBpZD1cInN0YXRlLXN0YXR1c1wiPm5vdCBzdGFydGVkPC9zcGFuPjwvYj5cblxuICAgICAgICAgICAgPHByZSBpZD1cInN0YXRlLXRyYW5zY3JpYmVkXCI+W1RoZSB0cmFuc2NyaWJlZCB0ZXh0IHdpbGwgYmUgZGlzcGxheWVkIGhlcmVdPC9wcmU+XG4gICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgIERlYnVnIG91dHB1dDpcbiAgICAgICAgIDx0ZXh0YXJlYSBpZD1cIm91dHB1dFwiIHJvd3M9ezIwfT48L3RleHRhcmVhPlxuXG4gICAgICAgICA8YnIgLz5cblxuICAgICAgICAgPGI+VHJvdWJsZXNob290aW5nPC9iPlxuXG4gICAgICAgICA8YnIgLz5cblxuICAgICAgICAgVGhlIHBhZ2UgZG9lcyBzb21lIGhlYXZ5IGNvbXB1dGF0aW9ucywgc28gbWFrZSBzdXJlOlxuXG4gICAgICAgICA8dWw+XG4gICAgICAgICAgICA8bGk+VG8gdXNlIGEgbW9kZXJuIHdlYiBicm93c2VyIChlLmcuIENocm9tZSwgRmlyZWZveCk8L2xpPlxuICAgICAgICAgICAgPGxpPlRvIHVzZSBhIGZhc3QgZGVza3RvcCBvciBsYXB0b3AgY29tcHV0ZXIgKGkuZS4gbm90IGEgbW9iaWxlIHBob25lKTwvbGk+XG4gICAgICAgICAgICA8bGk+WW91ciBicm93c2VyIHN1cHBvcnRzIFdBU00gPGEgaHJlZj1cImh0dHBzOi8vd2ViYXNzZW1ibHkub3JnL3JvYWRtYXAvXCI+Rml4ZWQtd2lkdGggU0lNRDwvYT48L2xpPlxuICAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgICAgPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwic3RyZWFtLmpzXCI+PC9zY3JpcHQ+XG4gICAgICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmM9XCJzdHJlYW0uanNcIj48L3NjcmlwdD5cbiAgICAgPC8+XG4gICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiV2hpc3BlclBhZ2UiLCJNb2R1bGUiLCJzZXRNb2R1bGUiLCJpbXBvcnRPYmplY3QiLCJlbnYiLCJjb25zb2xlTG9nIiwiYXJnIiwiY29uc29sZSIsImxvZyIsInNvbWVWYWx1ZSIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwiYXJyYXlCdWZmZXIiLCJieXRlcyIsIldlYkFzc2VtYmx5IiwiaW5zdGFudGlhdGUiLCJyZXN1bHRzIiwiaW5zdGFuY2UiLCJwcmludCIsInByaW50VGV4dGFyZWEiLCJwcmludEVyciIsInNldFN0YXR1cyIsInRleHQiLCJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIiwibGVmdCIsInByZVJ1biIsInBvc3RSdW4iLCJjb252ZXJ0VHlwZWRBcnJheSIsInNyYyIsInR5cGUiLCJidWZmZXIiLCJBcnJheUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJiYXNlVmlldyIsImNvbnN0cnVjdG9yIiwic2V0IiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhbHVlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJqb2luIiwidmFsdWUiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJjbGVhckNhY2hlIiwiY29uZmlybSIsImluZGV4ZWREQiIsImRlbGV0ZURhdGFiYXNlIiwiZGJOYW1lIiwiZmV0Y2hSZW1vdGUiLCJ1cmwiLCJjYlByb2dyZXNzIiwiY2JQcmludCIsIm1ldGhvZCIsIm9rIiwiY29udGVudExlbmd0aCIsImhlYWRlcnMiLCJnZXQiLCJ0b3RhbCIsInBhcnNlSW50IiwicmVhZGVyIiwiYm9keSIsImdldFJlYWRlciIsImNodW5rcyIsInJlY2VpdmVkTGVuZ3RoIiwicHJvZ3Jlc3NMYXN0IiwiZG9uZSIsInJlYWQiLCJwdXNoIiwicHJvZ3Jlc3NDdXIiLCJNYXRoIiwicm91bmQiLCJwb3NpdGlvbiIsImNodW5rc0FsbCIsIlVpbnQ4QXJyYXkiLCJjaHVuayIsImxvYWRSZW1vdGUiLCJkc3QiLCJzaXplX21iIiwiY2JSZWFkeSIsImNiQ2FuY2VsIiwibmF2aWdhdG9yIiwic3RvcmFnZSIsImVzdGltYXRlIiwicXVvdGEiLCJ1c2FnZSIsInJxIiwib3BlbiIsImRiVmVyc2lvbiIsIm9udXBncmFkZW5lZWRlZCIsImV2ZW50IiwiZGIiLCJ0YXJnZXQiLCJyZXN1bHQiLCJ2ZXJzaW9uIiwib3MiLCJjcmVhdGVPYmplY3RTdG9yZSIsImF1dG9JbmNyZW1lbnQiLCJuYW1lIiwiY3VycmVudFRhcmdldCIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJjbGVhciIsIm9uc3VjY2VzcyIsInR4IiwiZGF0YSIsInB1dCIsIm9uZXJyb3IiLCJvbmJsb2NrZWQiLCJvbmFib3J0IiwiY29udGV4dCIsImF1ZGlvIiwiYXVkaW8wIiwibW9kZWxfd2hpc3BlciIsIndpbmRvdyIsIm1vekluZGV4ZWREQiIsIndlYmtpdEluZGV4ZWREQiIsIm1zSW5kZXhlZERCIiwic3RvcmVGUyIsImZuYW1lIiwiYnVmIiwiRlNfdW5saW5rIiwiZSIsIkZTX2NyZWF0ZURhdGFGaWxlIiwiaW5uZXJIVE1MIiwiZGlzYWJsZWQiLCJsb2FkV2hpc3BlciIsIm1vZGVsIiwidXJscyIsInNpemVzIiwic3R5bGUiLCJkaXNwbGF5IiwicCIsImVsIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwia1NhbXBsZVJhdGUiLCJrUmVzdGFydFJlY29yZGluZ19zIiwia0ludGVydmFsQXVkaW9fbXMiLCJtZWRpYVJlY29yZGVyIiwiZG9SZWNvcmRpbmciLCJzdGFydFRpbWUiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJPZmZsaW5lQXVkaW9Db250ZXh0Iiwid2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dCIsInN0b3BSZWNvcmRpbmciLCJzZXRfc3RhdHVzIiwic3RhcnRSZWNvcmRpbmciLCJzYW1wbGVSYXRlIiwiY2hhbm5lbENvdW50IiwiZWNob0NhbmNlbGxhdGlvbiIsImF1dG9HYWluQ29udHJvbCIsIm5vaXNlU3VwcHJlc3Npb24iLCJEYXRlIiwibm93Iiwic3RyZWFtIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJzIiwiTWVkaWFSZWNvcmRlciIsIm9uZGF0YWF2YWlsYWJsZSIsImJsb2IiLCJCbG9iIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImRlY29kZUF1ZGlvRGF0YSIsImF1ZGlvQnVmZmVyIiwib2ZmbGluZUNvbnRleHQiLCJudW1iZXJPZkNoYW5uZWxzIiwic291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwic3RhcnQiLCJzdGFydFJlbmRlcmluZyIsInJlbmRlcmVkQnVmZmVyIiwiZ2V0Q2hhbm5lbERhdGEiLCJhdWRpb0FsbCIsIkZsb2F0MzJBcnJheSIsInNldF9hdWRpbyIsInJlYWRBc0FycmF5QnVmZmVyIiwib25zdG9wIiwic2V0VGltZW91dCIsImNhdGNoIiwiZXJyIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzdG9wIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwibkxpbmVzIiwiaW50ZXJ2YWxVcGRhdGUiLCJ0cmFuc2NyaWJlZEFsbCIsIm9uU3RhcnQiLCJpbml0IiwidHJhbnNjcmliZWQiLCJnZXRfdHJhbnNjcmliZWQiLCJpIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImdldF9zdGF0dXMiLCJvblN0b3AiLCJhZGRFdmVudExpc3RlbmVyIiwia2V5IiwibmV3VmFsdWUiLCJkaXYiLCJpZCIsImIiLCJociIsImJyIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwcmUiLCJ0ZXh0YXJlYSIsInJvd3MiLCJ1bCIsImxpIiwiYSIsImhyZWYiLCJzY3JpcHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/whisper/page.js\n"));

/***/ })

});